*[返回上一级](./../index)

这个文档是对前后端接口部分的解释

## 1. 总述

所有的`api`接口的请求方式都是`POST`方法，数据都是以`JSON`格式传输的。

在没有标注`NoToken`的API中，需要将Token在`Authorization`中一并发送。

## 2. 错误发生时

通常发生在一个错误的请求之后，后端会对错误的发生原因进行检查。

发生错误时传回前端的`response`：
``` json
{
    "type": "ERROR",
    "message": "错误信息"
}
```

### 2.1. 常见的错误

#### 2.1.1. 未知错误

通常由后端的运行时环境错误引发，可以尝试重新启动后端服务。

#### 2.1.2. 数据库信息错误

该错误主要会有两种，下面列出了每种错误的处理方法：

* 未查询到相关信息：通常由非法的请求导致，后端会记录下导致错误的请求。如果请求的数据确实存在，请联系软件开发者。
* 要求一个但查询到多个：数据库内信息错误，可以尝试删除数据库中错误或重复的那一条数据。

#### 2.1.3. 请求接口错误

由前端发来的非法请求或新加入的后端无法识别的接口导致，也可以考虑某些用户手动连接服务器发送请求的情况。

#### 2.1.4. 用户ID或密码错误

请让用户检查是否输入了正确的ID和密码，如果忘记密码请找软件开发者联系。

#### 2.1.5. 学生列表错误

通常发生在团支书报名义工活动时填入了他班学生的学号。

#### 2.1.6. 人数超限

发生在义工活动报名时上报的人数大于现需人数时，团支书可视情况删除超出部分。

#### 2.1.7. 权限不足

由跨越权限的操作导致，可能发生在用户手动连接服务器调用高权限的接口时。

### 2.2. 错误处理机制

通常表现为后端拒绝了该操作，向前端返回错误状态和提示。

同时，后端服务器会记录下导致错误的请求，便于系统维护者复现问题